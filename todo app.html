<!DOCTYPE html>
<html>
<head>
	<title>ToDo App | M. RAMISH</title>

	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">


	<style>
		.pad{
			padding: 50px;
		}
		.mar{
			margin: 30px auto;
		}
		.grey{
			background-color: #e8e8e8;
			box-shadow: 0px 0px 15px #9c9c9c;
			border-radius: 15px;
		}
		.emptyt{
			color: #495057;
    		background-color: #fff;
    		border-color: #ff0b0b;
    		outline: 0;
    		box-shadow: 0 0 0 0.2rem #ff0b0b61;
		}
		.shadow{
			box-shadow: 0px 0px 15px #9c9c9c;
		}
	</style>
</head>
<body>

<nav class="fixed-top navbar-dark bg-dark shadow">
	<center><h5 style="color: #fff;">Created with <i class="fas fa-heart"></i> by <b>Muhammad Ramish</b></h5></center>
</nav>
<br>


<div class="container">
	<div class="pad mar grey">
		<center>
			<h2 style="border-bottom: 2px solid teal; width: 100%; display: inline;">Add New Task</h2> <br> <br>
			<input type="text" id="new" class="form-control" onfocus="document.getElementById('new').classList.remove('emptyt');"> <br> <br>
			<button class="btn btn-success btn-block" onclick="add()" style="width: 30%;"><i class="fa fa-check"></i> ADD</button>
		</center>
	</div>

	<table class="table table-striped shadow">
		<thead>
			<tr style="background-color: teal; color: #fff;">
				<th colspan="3" class="text-center"><h3>TASKS</h3></th>
			</tr>
		</thead>
		<tbody id="tbl">
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3"><center>  <button class="btn btn-danger" onclick="dltall()"><i class="far fa-trash-alt"></i> Delete All</button> </center></td>
            </tr>
        </tfoot>
		
	</table>

</div>




<script>

var nmbr = 0;
	function add() {

		var newT = document.getElementById("new").value;
		if (newT === "") {
			document.getElementById("new").classList.add("emptyt"); 
		}
		else{
			nmbr++;
			document.getElementById("tbl").innerHTML += "<tr id="+ newT +"><td>" + nmbr +"- &nbsp; " + newT +"</td><td width='10px'><button class='btn btn-danger' onclick=remove('"+ newT +"')><i class='far fa-trash-alt'></i></button></td><td width='10px'><button class='btn btn-warning' onclick=edit('"+newT + "','"  +nmbr+ "')><i class='fas fa-pencil-alt'></i></button></td></tr>";
			document.getElementById("new").value = "";
			
		}

	}

	function remove(a){

		var a = document.getElementById(a);
		a.parentNode.removeChild(a);
		return false;
	}

	function edit(b , nm){
		document.getElementById(b).getElementsByTagName("td")[2].innerHTML = "<button class='btn btn-warning' onclick=adde('"+b+"','"+nm+"')><i class='far fa-edit'></i></button>";
		document.getElementById(b).getElementsByTagName("td")[0].innerHTML = "<input type='text' class='form-control' id='newF' value='"+b+"'>";
	}

	function adde(getq , nm){
		var newT = document.getElementById("newF").value;

		document.getElementById(getq).getElementsByTagName("td")[2].innerHTML = "<button class='btn btn-warning' onclick=edit('"+ newT +"')><i class='fas fa-pencil-alt'></i></button>";

		document.getElementById(getq).getElementsByTagName("td")[1].innerHTML = "<button class='btn btn-danger' onclick=remove('"+ newT +"')><i class='far fa-trash-alt'></i></button>";

		document.getElementById(getq).getElementsByTagName("td")[0].innerHTML = nm + "- " + newT;
		document.getElementById(getq).id = newT;

	}


	function dltall(){
        document.getElementById("tbl").innerHTML = "";
        location.reload(true);
    }
</script>

</body>
</html>